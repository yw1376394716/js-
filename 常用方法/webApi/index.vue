<template>
    <!-- https://mp.weixin.qq.com/s/kJwUvbdMFQ5P74_Q1UfeTw -->
    <div>
            querySelectorï¼ˆå…ƒç´ å‘ä¸‹æŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªï¼‰
            querySelectorAllï¼ˆå…ƒç´ å‘ä¸‹æŸ¥è¯¢ï¼Œè¿”å›å¤šä¸ªï¼‰
            closestï¼ˆå…ƒç´ å‘ä¸ŠæŸ¥è¯¢ï¼‰
            datasetï¼ˆè·å–å…ƒç´ ä»¥"data-"ä¸ºå‰ç¼€çš„å±æ€§é›†åˆï¼‰
            URLSearchParamsï¼ˆæŸ¥è¯¢urlå‚æ•°ï¼‰
            hiddenï¼ˆéšè—å…ƒç´ ï¼‰
            contenteditableï¼ˆä½¿å…ƒç´ å¯ä»¥åœ¨é¡µé¢ä¸Šç›´æ¥è¢«ç¼–è¾‘ï¼‰ 
            spellCheckï¼ˆæ£€æŸ¥æ‹¼éŸ³ï¼‰
            classListï¼ˆç±»åæ§åˆ¶å™¨ï¼‰
            getBoundingClientRectï¼ˆå…ƒç´ ç©ºé—´ç»“æ„è¯¦ç»†ä¿¡æ¯ï¼‰
            containsï¼ˆåˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ ï¼‰
            online stateï¼ˆç½‘ç»œçŠ¶æ€ï¼‰
            battery stateï¼ˆç”µæ± çŠ¶æ€ï¼‰
            vibrationï¼ˆè®¾å¤‡éœ‡åŠ¨ï¼‰
            page visibilityï¼ˆé¡µé¢å¯è§æ€§ï¼‰
            deviceOrientationï¼ˆé™€èºä»ªï¼‰
            toDataUrlï¼ˆç”»å¸ƒå†…å®¹è½¬base64ï¼‰
            customEventï¼ˆè‡ªå®šä¹‰äº‹ä»¶ï¼‰
            notificationï¼ˆæ¡Œé¢é€šçŸ¥ï¼‰
            fullScreenï¼ˆå…¨å±ï¼‰    <!-- ä¼šç›´æ¥å¼€å¯å…¨å±ï¼Œå¹¶ä¸”åªæ˜¾ç¤ºæŒ‡å®šçš„å…ƒç´ ï¼Œå…ƒç´ çš„å®½é«˜å¡«å……äº†æ•´ä¸ªå±å¹•âœ… -->
            orientationï¼ˆå±å¹•æ–¹å‘ï¼‰   
            geolocation
        <div>
            <p>
                - querySelector

                è·å–æŒ‡å®šå…ƒç´ ä¸­åŒ¹é…cssé€‰æ‹©å™¨çš„å…ƒç´ ï¼š

                // ä½œç”¨åœ¨document
                document.querySelector("#nav"); // è·å–æ–‡æ¡£ä¸­id="nav"çš„å…ƒç´ 
                document.querySelector(".nav"); // è·å–æ–‡æ¡£ä¸­class="nav"çš„å…ƒç´ 
                document.querySelector("#nav li:first-child"); // è·å–æ–‡æ¡£ä¸­id="nav"ä¸‹é¢çš„ç¬¬ä¸€ä¸ªliå…ƒç´ 

                // ä¹Ÿå¯ä»¥ä½œç”¨åœ¨å…¶ä»–å…ƒç´ 
                let nav = dodocument.querySelector("#nav");
                nav.querySelector("li"); // å¦‚æœæœ‰å¤šä¸ªliçš„è¯ï¼Œè¿”å›ç¬¬ä¸€ä¸ªli

                æ³¨æ„ï¼šæ— è®ºå¦‚ä½•åªè¿”å›ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœæœ‰å¤šä¸ªç´ ï¼Œé‚£ä¹Ÿåªè¿”ç¬¬ä¸€ä¸ªâœ…        
            </p>
            <p>
                - querySelectorAll

                è·å–æŒ‡å®šå…ƒç´ ä¸­åŒ¹é…cssé€‰æ‹©å™¨çš„æ‰€æœ‰å…ƒç´ ï¼š

                let list = document.querySelectorAll("li");  // NodeList(2) [li, li] è¿™é‡Œå‡è®¾è¿”å›2ä¸ª

                æ³¨æ„ï¼šè¿”å›çš„å€¼æ˜¯ä¸€ä¸ªç±»æ•°ç»„ï¼Œæ— æ³•ä½¿ç”¨æ•°ç»„çš„åŸç”Ÿæ–¹æ³•ï¼ˆforEachã€mapç­‰ï¼‰ï¼Œéœ€
                è¦è½¬æ¢ä¸€ä¸‹ï¼š

                Array.from(list).map();                
            </p>
            <p>
                - dataset
                å°±è·ŸåŸç”Ÿå¾®ä¿¡å°ç¨‹åºä¸€æ ·ï¼Œèƒ½è·å–æ ‡ç­¾ä¸Šä»¥"data-"ä¸ºå‰ç¼€çš„å±æ€§é›†åˆï¼š

                <!-- <p data-name="èœ˜è››ä¾ " data-age="16"></p> -->
                document.querySelector("p").dataset; // {name: "èœ˜è››ä¾ ", age: "16"}

                æ³¨æ„ï¼šè™½ç„¶å¯ä»¥ç”¨getAttributeæ–¹æ³•è·å–ä»»ä½•å±æ€§å€¼ï¼Œä½†æ˜¯æ€§è´¨å´ä¸ä¸€æ ·ï¼Œè¿™æ˜¯å¼€å‘è§„èŒƒé—®é¢˜ï¼Œå‡¡æ˜¯è‡ªå®šä¹‰å±æ€§éƒ½è¦åŠ ä¸Šdata-å‰ç¼€å“¦âœ…                
            </p>

            <p>
                - URLSearchParams
                å‡è®¾æµè§ˆå™¨çš„urlå‚æ•°æ˜¯ "?name=èœ˜è››ä¾ &age=16"ï¼š

                new URLSearchParams(location.search).get("name"); // èœ˜è››ä¾                 
            </p>
            <p>
                - hidden
                è¿™æ˜¯ä¸€ä¸ªhtmlå±æ€§ï¼Œè§„å®šå…ƒç´ æ˜¯å¦éšè—ï¼Œè¡¨ç°è·Ÿcssçš„display: noneä¸€è‡´ï¼š

                <!-- <div hidden>æˆ‘è¢«éšè—äº†</div> -->
                document.querySelector("div").hidden = true / false;                
            </p>
            <p>
                - contenteditable
                å¯ä»¥ä½¿ä¸€ä¸ªå…ƒç´ å¯ä»¥è¢«ç”¨æˆ·ç¼–è¾‘ï¼š
                
                <!-- <p contenteditable>æˆ‘æ˜¯På…ƒç´ ï¼Œä½†æ˜¯æˆ‘ä¹Ÿå¯ä»¥è¢«ç¼–è¾‘</p>                 -->
            </p>
            <p>
                - classList
                è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡é‡Œå°è£…äº†è®¸å¤šæ“ä½œå…ƒç´ ç±»åçš„æ–¹æ³•ï¼š

                <!-- <p class="title"></p> -->
                let elem = document.querySelector("p");

                // å¢åŠ ç±»å
                elem.classList.add("title-new"); // "title title-new"

                // åˆ é™¤ç±»å
                elem.classList.remove("title"); // "title-new"

                // åˆ‡æ¢ç±»åï¼ˆæœ‰åˆ™åˆ ã€æ— åˆ™å¢ï¼Œå¸¸ç”¨äºä¸€äº›åˆ‡æ¢æ“ä½œï¼Œå¦‚æ˜¾ç¤º/éšè—ï¼‰
                elem.classList.toggle("title"); // "title-new title"

                // æ›¿æ¢ç±»å
                elem.classList.replace("title", "title-old"); // "title-new title-old"

                // æ˜¯å¦åŒ…å«æŒ‡å®šç±»å
                elem.classList.contains("title"); // false                
            </p>
            <p>
                - getBoundingClientRect

                å¯ä»¥è·å–æŒ‡å®šå…ƒç´ åœ¨å½“å‰é¡µé¢çš„ç©ºé—´ä¿¡æ¯ï¼š

                elem.getBoundingClientRect();

                // è¿”å›
                {
                x: 604.875,
                y: 1312,
                width: 701.625,
                height: 31,
                top: 1312,
                right: 1306.5,
                bottom: 1343,
                left: 604.875
                }

                æ³¨æ„ï¼štopæ˜¯è·ç¦»æ–‡æ¡£é¡¶éƒ¨çš„è·ç¦»ï¼Œyåˆ™æ˜¯è·ç¦»å¯è§†çª—å£ï¼ˆæµè§ˆå™¨å±å¹•ï¼‰çš„é¡¶éƒ¨è·ç¦»ï¼Œå¦‚æœæµè§ˆå™¨æ»šåŠ¨ï¼Œtopå€¼ä¸å˜ï¼Œyå€¼ä¼šå˜                
            </p>
            <p>
                - contains
                å¯ä»¥åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦åŒ…å«äº†æŒ‡å®šçš„å­å…ƒç´ ï¼š

                <!-- <div>
                    <p></p>
                </div> -->
                document.querySelector("div").contains(document.querySelector("p")); // true                
            </p>
            <p>
                - online state
                ç›‘å¬å½“å‰çš„ç½‘ç»œçŠ¶æ€å˜åŠ¨ï¼Œç„¶åæ‰§è¡Œå¯¹åº”çš„æ–¹æ³•ï¼š

                window.addEventListener("online", xxx);

                window.addEventListener("offline", () => {
                    alert("ä½ æ–­ç½‘å•¦ï¼");
                });           
                ä½¿ç”¨åœºæ™¯ï¼šæç¤ºç”¨æˆ·å·²æ–­ç½‘ï¼Œç›´æ¥ä¸€ä¸ªå¼¹æ¡†æŠŠç”¨æˆ·å“æ‡µâœ…     
            </p>
            <p>
                - battery state
                è·å–è®¾å¤‡çš„ç”µæ± çŠ¶æ€ï¼š

                navigator.getBattery().then(battery => console.log(battery));

                // è¿”å›
                {
                charging, // æ˜¯å¦åœ¨å……ç”µ
                chargingTime, // å……æ»¡ç”µæ‰€éœ€æ—¶é—´
                dischargingTime, // å½“å‰ç”µé‡å¯ä½¿ç”¨æ—¶é—´
                level, å‰©ä½™ç”µé‡

                onchargingchange, // ç›‘å¬å……ç”µçŠ¶æ€å˜åŒ–
                onchargingtimechange, // ç›‘å¬å……æ»¡ç”µæ‰€éœ€æ—¶é—´å˜åŒ–
                ondischargingtimechange, // ç›‘å¬å½“å‰ç”µé‡å¯ä½¿ç”¨æ—¶é—´å˜åŒ–
                onlevelchange // ç›‘å¬ç”µé‡å˜åŒ–
                }

                ä½¿ç”¨åœºæ™¯ï¼šæç¤ºç”¨æˆ·ç”µé‡å·²å……æ»¡ï¼Œæˆ–è€…ä¸ºäº†è®©ç”¨æˆ·æœ‰å®‰å…¨æ„Ÿï¼Œç”µé‡ä½äº99%çš„æ—¶å€™æ¥ä¸ªå¼¹æ¡†æç¤º"è¯¥å……ç”µå•¦"âœ…                
            </p>
            <p>
                - vibration
                ä½¿è®¾å¤‡è¿›è¡Œéœ‡åŠ¨ï¼š

                // éœ‡åŠ¨ä¸€æ¬¡
                navigator.vibrate(100);

                // è¿ç»­éœ‡åŠ¨ï¼Œéœ‡åŠ¨200msã€æš‚åœ100msã€éœ‡åŠ¨300ms
                navigator.vibrate([200, 100, 300]);

                æ•ˆæœå¦‚ä¸‹ï¼šä¸å¥½æ„æ€ä½ å¾—ç”¨ä½ è‡ªå·±çš„æ‰‹æ¡ä½æ‰‹æœºæ‰èƒ½æ„Ÿå—å¾—åˆ°;
                ä½¿ç”¨åœºæ™¯ï¼šé€šè¿‡æŒ¯åŠ¨æ¥æä¾›æ„Ÿå®˜åé¦ˆï¼Œæ¯”å¦‚å¤ªä¹…æ²¡æœ‰è§¦æ‘¸å±å¹•çš„æ—¶å€™è¿ç»­éœ‡åŠ¨æé†’ç”¨æˆ·âœ…                
            </p>
            <p>
                - deviceOrientation
                é™€èºä»ªï¼Œä¹Ÿå°±æ˜¯è®¾å¤‡çš„æ–¹å‘ï¼Œåˆåé‡åŠ›æ„Ÿåº”ï¼Œè¯¥APIåœ¨IOSè®¾å¤‡ä¸Šå¤±æ•ˆçš„è§£å†³åŠæ³•ï¼Œå°†åŸŸååè®®æ”¹æˆhttpsï¼›                
            </p>
            <p>
                - toDataURL

                è¿™ä¸ªcanvasçš„APIï¼Œä½œç”¨æ˜¯å°†ç”»å¸ƒçš„å†…å®¹è½¬æ¢æˆä¸€ä¸ªbase64çš„å›¾ç‰‡åœ°å€ï¼š

                let canvas = document.querySelector("canvas");
                let context = canvas.getContext("2d");

                // ç”»ä¸œè¥¿
                ...

                let url = canvas.toDataURL("image/png"); // å°†ç”»å¸ƒå†…å®¹è½¬æ¢æˆbase64åœ°å€

                ä½¿ç”¨aæ ‡ç­¾è¿›è¡Œå›¾ç‰‡ä¸‹è½½æ—¶ï¼Œå›¾ç‰‡é“¾æ¥è·¨åŸŸï¼ˆå›¾ç‰‡æ˜¯æˆ‘çš„æ˜é‡‘å¤´åƒï¼‰ï¼Œæ— æ³•è¿›è¡Œä¸‹è½½è€Œæ˜¯è¿›è¡Œå›¾ç‰‡é¢„è§ˆï¼š

                <!-- <img src="xxx">

                <button>
                <a href="xxx" download="avatar">ä¸‹è½½å›¾ç‰‡</a>
                </button>                 -->
                const downloadImage = (url, name) => {
                    // å®ä¾‹åŒ–ç”»å¸ƒ
                    let canvas = document.createElement("canvas");
                    let context = canvas.getContext("2d");

                    // å®ä¾‹åŒ–ä¸€ä¸ªå›¾ç‰‡å¯¹è±¡
                    let image = new Image();
                    image.crossOrigin = "Anonymous";
                    image.src = url;

                    // å½“å›¾ç‰‡åŠ è½½å®Œæ¯•
                    image.onload = () => {
                        // å°†å›¾ç‰‡ç”»åœ¨ç”»å¸ƒä¸Š
                        canvas.height = image.height;
                        canvas.width = image.width;
                        context.drawImage(image, 0, 0);

                        // å°†ç”»å¸ƒçš„å†…å®¹è½¬æ¢æˆbase64åœ°å€
                        let dataURL = canvas.toDataURL("image/png");

                        // åˆ›å»ºaæ ‡ç­¾æ¨¡æ‹Ÿç‚¹å‡»è¿›è¡Œä¸‹è½½
                        let a = document.createElement("a");
                        a.hidden = true;
                        a.href = dataURL;
                        a.download = name;

                        document.body.appendChild(a);
                        a.click();
                    }
                }
                æˆ–è€…å°†å½“å‰çš„DOMè½¬æ¢æˆå›¾ç‰‡è¿›è¡Œä¸‹è½½ï¼Œå¸¸ç”¨äºç”Ÿæˆæµ·æŠ¥ï¼Œæ¨èæ’ä»¶html2canvasï¼Œ

            </p>
            <p>
                - notification

                PCç«¯çš„æ¡Œé¢é€šçŸ¥ï¼Œå¦‚ç½‘é¡µç«¯çš„å¾®ä¿¡ï¼Œå½“æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œå³ä¸‹è§’ä¼šå‡ºç°ä¸€ä¸ªé€šçŸ¥ï¼ˆå°½ç®¡ä½ æŠŠæµè§ˆå™¨æœ€å°åŒ–ï¼‰ï¼Œå› ä¸ºè¿™ä¸ªé€šçŸ¥æ—¶ç‹¬ç«‹äºæµè§ˆå™¨çš„ï¼Œæ˜¯ç³»ç»Ÿçš„ä¸€ä¸ªåŸç”Ÿæ§ä»¶ï¼š

                const notice = new Notification("å‰ç«¯å®‡å®™æƒ…æŠ¥å±€", {
                body: "è¿™20ä¸ªä¸å¸¸ç”¨çš„Web APIçœŸçš„æœ‰ç”¨å—?ï¼Œåˆ«é—®ï¼Œé—®å°±æ˜¯æœ‰ç”¨ğŸˆ¶",
                icon: "æˆ‘çš„æ˜é‡‘å¤´åƒ",
                data: {
                    url: "https://www.baidu.com"
                }
                });

                // ç‚¹å‡»å›è°ƒ
                notice.onclick = () => {
                    window.open(notice.data.url); // å½“ç”¨æˆ·ç‚¹å‡»é€šçŸ¥æ—¶ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ç™¾åº¦ç½‘ç«™                
                }
                æ³¨æ„ï¼šæƒ³è¦æˆåŠŸçš„è°ƒèµ·é€šçŸ¥ï¼Œé¦–å…ˆè¦ç”¨æˆ·çš„æˆæƒâœ…

                Notification.requestPermission(prem => {
                prem == "granted" // åŒæ„
                prem == "denied" // æ‹’ç»
                })

                æ‰€ä»¥ï¼Œå†è°ƒç”¨ä¹‹å‰å…ˆå‘ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼š

                let permission = Notification.permission;

                if (permission == "granted") {
                    // å·²åŒæ„ï¼Œå¼€å§‹å‘é€é€šçŸ¥
                    ...
                } else if (permission == "denied") {
                    // ä¸åŒæ„ï¼Œå‘ä¸äº†å’¯
                } else {
                    // å…¶ä»–çŠ¶æ€ï¼Œå¯ä»¥é‡æ–°å‘é€æˆæƒæç¤º
                    Notification.requestPermission();
                }                                
            </p>
            <p>
                - orientation
                å¯ä»¥ç›‘å¬ç”¨æˆ·æ‰‹æœºè®¾å¤‡çš„æ—‹è½¬æ–¹å‘å˜åŒ–ï¼š

                window.addEventListener("orientationchange", () => {
                    <!-- document.body.innerHTML += `<p>å±å¹•æ—‹è½¬åçš„è§’åº¦å€¼ï¼š${window.orientation}</p>`; -->
                }, false);                
            </p>
            <p>
                geolocation å¯¹è±¡
                åœ°ç†ä½ç½® API é€šè¿‡ navigator.geolocation æä¾›ã€‚

                å¦‚æœè¯¥å¯¹è±¡å­˜åœ¨ï¼Œé‚£ä¹ˆåœ°ç†ä½ç½®æœåŠ¡å¯ç”¨ã€‚    
                if ("geolocation" in navigator) {
                    /* åœ°ç†ä½ç½®æœåŠ¡å¯ç”¨ */
                } else {
                    /* åœ°ç†ä½ç½®æœåŠ¡ä¸å¯ç”¨ */
                }                            
            </p>
        </div>     
    </div>
</template>